<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://blog-1320152118.cos.ap-chengdu.myqcloud.com/homepage-images/202310011609873.png"><link rel="icon" href="https://blog-1320152118.cos.ap-chengdu.myqcloud.com/homepage-images/202310011609873.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Holary"><meta name="keywords" content="Java,Study,Life"><meta name="description" content="此篇主要介绍Redis数据库相关的面试题。"><meta property="og:type" content="article"><meta property="og:title" content="Redis"><meta property="og:url" content="https://www.holary.cn/posts/bae4ff13.html"><meta property="og:site_name" content="九厘米的雾"><meta property="og:description" content="此篇主要介绍Redis数据库相关的面试题。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://blog-1320152118.cos.ap-chengdu.myqcloud.com/java-interview-images/202311182143043.jpg"><meta property="article:published_time" content="2023-11-18T13:22:42.000Z"><meta property="article:modified_time" content="2023-11-19T08:04:08.255Z"><meta property="article:author" content="Holary"><meta property="article:tag" content="面试"><meta property="article:tag" content="Redis"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://blog-1320152118.cos.ap-chengdu.myqcloud.com/java-interview-images/202311182143043.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><title>Redis - 九厘米的雾</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"www.holary.cn",root:"/",version:"1.9.5",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:1},lazyload:{enable:!0,loading_img:"https://blog-1320152118.cos.ap-chengdu.myqcloud.com/homepage-images/202310011609080.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.3.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>九厘米的雾</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://blog-1320152118.cos.ap-chengdu.myqcloud.com/homepage-images/202310011609042.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="Redis"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Holary </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-11-18 21:22" pubdate>2023年11月18日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 4.8k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 40 分钟 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">Redis</h1><div class="markdown-body"><p class="note note-info">Last updated on November 18, 2023</p><h2 id="Redis-基础"><a href="#Redis-基础" class="headerlink" title="Redis 基础"></a>Redis 基础</h2><h3 id="什么是-Redis"><a href="#什么是-Redis" class="headerlink" title="什么是 Redis?"></a>什么是 Redis?</h3><p>Redis(Remote Dictionary Server)是一个基于 C 语言开发的开源 NoSQL 数据库(BSD 许可)。与传统数据库不同的是，Redis 的数据是保存在内存中的(内存数据库，支持持久化)，因此读写速度非常快，被广泛应用于分布式缓存方向。</p><p>为了满足不同的业务场景，Redis 内置了多种数据类型实现(比如 String、List、Hash、Sorted Set、Bitmap、HyperLogLog、GEO)。并且，Redis 还支持事务、持久化、Lua 脚本、多种开箱即用的集群方案(Redis Sentinel、Redis Cluster)。</p><h3 id="Redis-为什么这么快"><a href="#Redis-为什么这么快" class="headerlink" title="Redis 为什么这么快?"></a>Redis 为什么这么快?</h3><ul><li>Redis 基于内存，内存的访问速度是磁盘的上千倍。</li><li>Redis 基于 Reactor 模式设计开发了一套高效的事件处理模型，主要是单线程事件循环和 IO多路复用。</li><li>Redis 内置了多种优化过后的数据类型&#x2F;结构实现，性能非常高。</li></ul><h3 id="Redis-可以用来干什么"><a href="#Redis-可以用来干什么" class="headerlink" title="Redis 可以用来干什么?"></a>Redis 可以用来干什么?</h3><ul><li>缓存: 这是Redis应用最广泛地方，基本所有的 Web 应用都会使用 Redis 作为缓存来降低数据源压力，提高响应速度。</li><li>计数器: Redis 天然支持计数功能，而且计数性能非常好，可以用来记录浏览量、点赞量等等。</li><li>排行榜: Redis 提供了列表和有序集合数据结构，合理地使用这些数据结构可以很方便地构建各种排行榜系统。</li><li>社交网络: 赞(踩)、粉丝、共同好友、推送、下拉刷新。</li><li>消息队列: Redis 提供了发布订阅功能和阻塞队列的功能，可以满足一般消息队列功能。</li><li>分布式锁: 分布式环境下，利用 Redis 实现分布式锁，也是常见的应用。</li></ul><h3 id="Redis-的五种基本数据类型"><a href="#Redis-的五种基本数据类型" class="headerlink" title="Redis 的五种基本数据类型"></a>Redis 的五种基本数据类型</h3><p><img src="https://blog-1320152118.cos.ap-chengdu.myqcloud.com/java-interview-images/202311182143043.jpg" srcset="https://blog-1320152118.cos.ap-chengdu.myqcloud.com/homepage-images/202310011609080.gif" lazyload></p><h4 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String(字符串)"></a>String(字符串)</h4><p>String 是 Redis 中最简单同时也是最常用的一个数据类型。String 是一种二进制安全的数据类型，可以用来存储任何类型的数据比如字符串、整数、浮点数、图片(图片的 base64 编码或者解码或者图片的路径)、序列化后的对象。</p><blockquote><p>常用命令:</p><p>(1)<code>SET key value</code> 设置指定key的值</p><p>(2)<code>GET key</code>获取指定key的值</p><p>(3)<code>SETEX key seconds value</code> 设置指定key的值，并将key的过期时间设为seconds秒</p><p>(4)<code>SETNX key value</code> 只有在key不存在是设置key的值</p></blockquote><h4 id="Hash-哈希"><a href="#Hash-哈希" class="headerlink" title="Hash(哈希)"></a>Hash(哈希)</h4><p>Redis 中的 Hash 是一个 String 类型的 field-value(键值对) 的映射表，特别适合用于存储对象，后续操作的时候，你可以直接修改这个对象中的某些字段的值。</p><blockquote><p>常用命令:</p><p>(1)<code>HSET key field value</code> 将哈希表key中的字段field的值设置为value</p><p>(2)<code>HGET key field</code> 获取存储在哈希表中指定字段的值</p><p>(3)<code>HDEL key field</code> 删除存储在哈希表中的指定字段</p><p>(4)<code>HKEYS key</code> 获取哈希表中所有字段</p><p>(5)<code>HVALS key</code> 获取哈希表中所有值</p><p>(6)<code>HGETALL key</code> 获取哈希表中指定key的所有字段和值</p></blockquote><h4 id="List-列表"><a href="#List-列表" class="headerlink" title="List(列表)"></a>List(列表)</h4><p>Redis 中的 List 是简单的字符串列表，按照插入顺序排序。</p><blockquote><p>常用命令:</p><p>(1)<code>LPUSH key value1 [value2]</code> 将一个或多个值插到列表头部</p><p>(2)<code>LRANGE key start stop</code> 获取列表指定范围内的元素</p><p>(3)<code>RPOP key</code> 移除并获取列表最后一个元素</p><p>(4)<code>LLEN key</code> 获取列表长度</p><p>(5)<code>BRPOP key1 [key2] timeout</code> 移除并获取列表最后一个元素，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止</p></blockquote><h4 id="Set-集合"><a href="#Set-集合" class="headerlink" title="Set(集合)"></a>Set(集合)</h4><p>Redis 中的 Set 类型是一种无序集合，集合中的元素没有先后顺序但都唯一。</p><blockquote><p>常用命令:</p><p>(1)<code>SADD key member1 [member2]</code> 向集合中添加一个或多个成员</p><p>(2)<code>SMEMBERS key</code> 返回集合中的所有成员</p><p>(3)<code>SCARD key</code> 获取集合的成员数</p><p>(4)<code>SINTER key1 [key2]</code> 返回给定所有集合的交集</p><p>(5)<code>SUNION key1 [key2]</code> 返回给定所有集合的并集</p><p>(6)<code>SDIFF key1 [key2]</code> 返回给定所有集合的差集</p><p>(7)<code>SREM key member1 [member2]</code> 移除集合中一个或多个成员</p></blockquote><h4 id="Sorted-Set-有序集合"><a href="#Sorted-Set-有序集合" class="headerlink" title="Sorted Set(有序集合)"></a>Sorted Set(有序集合)</h4><p>Sorted Set 类似于 Set，但和 Set 相比，Sorted Set 增加了一个权重参数 <code>score</code>，使得集合中的元素能够按 <code>score</code> 进行有序排列，还可以通过 <code>score</code> 的范围来获取元素的列表。</p><blockquote><p>常用命令:</p><p>(1)<code>ZADD key score1 member1 [score2 member2]</code> 向有序集合中添加一个或多个成员，或更新已存在成员的分数</p><p>(2)<code>ZRANGE key start stop [WITHSCORES]</code> 通过索引区间返回有序集合中指定区间内的成员</p><p>(3)<code>ZINCRBY key increment member</code> 有序集合中指定成员的分数加上增量increment</p><p>(4)<code>ZREM key member [member]</code> 移除有序集合中的一个或多个成员</p></blockquote><h2 id="Redis-持久化机制"><a href="#Redis-持久化机制" class="headerlink" title="Redis 持久化机制"></a>Redis 持久化机制</h2><p>使用缓存的时候，我们经常需要对内存中的数据进行持久化，也就是将内存中的数据写入到硬盘中。大部分原因是为了之后重用数据(比如重启机器、机器故障之后恢复数据)，或者是为了做数据同步(比如 Redis 集群的主从节点通过 RDB 文件同步数据)。</p><p>Redis 支持 3 种持久化方式:</p><ul><li>快照(snapshotting，RDB)</li><li>只追加文件(append-only file, AOF)</li><li>RDB 和 AOF 的混合持久化(Redis 4.0 新增)</li></ul><h3 id="RDB-持久化"><a href="#RDB-持久化" class="headerlink" title="RDB 持久化"></a>RDB 持久化</h3><p>RDB 快照是某个时间点的一次全量数据备份，是二进制文件，在存储上非常紧凑。RDB持久化触发机制分为: 手动触发和自动触发。</p><p><strong>手动触发:</strong></p><ul><li><code>save</code>命令: 阻塞当前 Redis 服务器，直到 RDB 过程完成为止，对于内存比较大的实例会造成长时间阻塞，线上环境不建议使用。</li><li><code>bgsave</code>命令: Redis 进程执行 fork 操作创建子进程，RDB 持久化过程由子进程负责，完成后自动结束。阻塞只发生在 fork 阶段，一般时间很短。</li></ul><p><strong>自动触发:</strong></p><ul><li><p>配置 redis.conf，触发规则自动执行 <code>bgsave</code> 命令。</p><blockquote><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text"># 当在规定的时间内，Redis 发生了写操作的个数满足条件，会触发发生 bgsave 命令。<br># save &lt;seconds&gt; &lt;changes&gt;<br># 当用户设置了多个save的选项配置，只要其中任一条满足，Redis 都会触发一次 bgsave 命令。<br>save 900 1 <br>save 300 10 <br>save 60 10000<br># 以上配置的含义: 900秒之内至少发生1次写操作、300秒之内至少发生10次写操作、60秒之内至少发生10000次写操作，只要满足任一条件，均会触发bgsave。<br></code></pre></td></tr></table></figure></blockquote></li><li><p>执行 <code>shutdown</code> 命令关闭服务器时，如果没有开启 AOF 持久化功能，那么会自动执行一次 <code>bgsave</code> 命令。</p></li><li><p>主从同步: 如果从节点执行全量复制操作，主节点自动执行 <code>bgsave</code> 命令生成 RDB 文件并发送给从节点。</p></li></ul><h3 id="AOF-持久化"><a href="#AOF-持久化" class="headerlink" title="AOF 持久化"></a>AOF 持久化</h3><p>AOF(append only file)持久化: 以独立日志的方式记录每次写命令，重启时再重新执行 AOF 文件中的命令达到恢复数据的目的。AOF 的主要作用是解决了数据持久化的实时性，目前已经是Redis持久化的主流方式。</p><p>默认情况下 Redis 没有开启 AOF 方式的持久化(Redis 6.0 之后已经默认开启)，可以通过 <code>appendonly</code> 参数开启:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">appendonly <span class="hljs-built_in">yes</span><br></code></pre></td></tr></table></figure><p><strong>AOF 工作基本流程:</strong></p><ul><li><strong>命令追加(append):</strong> 所有的写命令会追加到 AOF 缓冲区中。</li><li><strong>文件写入(write):</strong> 将 AOF 缓冲区的数据写入到 AOF 文件中。这一步需要调用 <code>write</code> 函数(系统调用)，<code>write</code>将数据写入到了系统内核缓冲区之后直接返回了(延迟写)。注意，此时并没有同步到磁盘。</li><li><strong>文件同步(fsync):</strong> AOF 缓冲区根据对应的持久化方式(<code>fsync</code> 策略)向硬盘做同步操作。这一步需要调用 <code>fsync</code> 函数(系统调用)， <code>fsync</code> 针对单个文件操作，对其进行强制硬盘同步，<code>fsync</code> 将阻塞直到写入磁盘完成后返回，保证了数据持久化。</li><li><strong>文件重写(rewrite):</strong> 随着 AOF 文件越来越大，需要定期对 AOF 文件进行重写，达到压缩的目的。</li><li><strong>重启加载(load):</strong> 当 Redis 重启时，可以加载 AOF 文件进行数据恢复。</li></ul><blockquote><p><code>write</code>: 写入系统内核缓冲区之后直接返回(仅仅是写到缓冲区)，不会立即同步到硬盘。虽然提高了效率，但也带来了数据丢失的风险。同步硬盘操作通常依赖于系统调度机制，Linux 内核通常为 30s 同步一次，具体值取决于写出的数据量和 I&#x2F;O 缓冲区的状态。</p><p><code>fsync</code>:<code>fsync</code>用于强制刷新系统内核缓冲区(同步到到磁盘)，确保写磁盘操作结束才会返回。</p></blockquote><p>在 Redis 的配置文件中存在三种不同的 AOF 持久化方式(<code>fsync</code>策略):</p><ul><li><code>appendfsync always</code>: 主线程调用 <code>write</code> 执行写操作后，后台线程(<code>aof_fsync</code> 线程)立即会调用 <code>fsync</code> 函数同步 AOF 文件(刷盘)，<code>fsync</code> 完成后线程返回，这样会严重降低 Redis 的性能(<code>write</code> + <code>fsync</code>)。</li><li><code>appendfsync everysec</code>: 主线程调用 <code>write</code> 执行写操作后立即返回，由后台线程(<code>aof_fsync</code> 线程)每秒钟调用 <code>fsync</code> 函数(系统调用)同步一次 AOF 文件(<code>write</code>+<code>fsync</code>，<code>fsync</code>间隔为 1 秒)</li><li><code>appendfsync no</code>: 主线程调用 <code>write</code> 执行写操作后立即返回，让操作系统决定何时进行同步，Linux 下一般为 30 秒一次(<code>write</code>但不<code>fsync</code>，<code>fsync</code> 的时机由操作系统决定)。</li></ul><p>这 3 种持久化方式的主要区别在于 <code>fsync</code> 同步 AOF 文件的时机(刷盘)，为了兼顾数据和写入性能，可以考虑 <code>appendfsync everysec</code> 选项 ，让 Redis 每秒同步一次 AOF 文件，Redis 性能受到的影响较小。而且这样即使出现系统崩溃，用户最多只会丢失一秒之内产生的数据。</p><h3 id="Redis-4-0-对于持久化机制做了什么优化"><a href="#Redis-4-0-对于持久化机制做了什么优化" class="headerlink" title="Redis 4.0 对于持久化机制做了什么优化?"></a>Redis 4.0 对于持久化机制做了什么优化?</h3><p>Redis 4.0 开始支持 RDB 和 AOF 的混合持久化(默认关闭，可以通过配置项 <code>aof-use-rdb-preamble</code> 开启)。</p><p>如果把混合持久化打开，AOF 重写的时候就直接把 RDB 的内容写到 AOF 文件开头。这样做的好处是可以结合 RDB 和 AOF 的优点, 快速加载同时避免丢失过多的数据。缺点就是 AOF 里面的 RDB 部分是压缩格式不再是 AOF 格式，可读性较差。</p><h3 id="RDB-和-AOF-各自有什么优缺点"><a href="#RDB-和-AOF-各自有什么优缺点" class="headerlink" title="RDB 和 AOF 各自有什么优缺点?"></a>RDB 和 AOF 各自有什么优缺点?</h3><h4 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h4><p><strong>优点:</strong></p><ul><li>只有一个紧凑的二进制文件 <code>dump.rdb</code>，非常适合备份、全量复制的场景。</li><li><strong>容灾性好</strong>，可以把RDB文件拷贝道远程机器或者文件系统张，用于容灾恢复。</li><li><strong>恢复速度快</strong>，RDB恢复数据的速度远远快于AOF的方式。</li></ul><p><strong>缺点:</strong></p><ul><li><strong>实时性低</strong>，RDB 是间隔一段时间进行持久化，没法做到实时持久化&#x2F;秒级持久化。如果在这一间隔事件发生故障，数据会丢失。</li><li><strong>存在兼容问题</strong>，Redis 演进过程存在多个格式的 RDB 版本，存在老版本 Redis 无法兼容新版本 RDB 的问题。</li></ul><h4 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h4><p><strong>优点:</strong></p><ul><li><strong>实时性好</strong>，AOF 持久化可以配置 <code>appendfsync</code> 属性，有 <code>always</code>，每进行一次命令操作就记录到 AOF 文件中一次。</li><li>通过 append 模式写文件，即使中途服务器宕机，可以通过 redis-check-aof 工具解决数据一致性问题。</li></ul><p><strong>缺点:</strong></p><ul><li>AOF 文件比 RDB 文件大，且恢复速度慢。</li><li>数据集大的时候，比 RDB 启动效率低。</li></ul><blockquote><p><strong>RDB和AOF如何选择?</strong></p><p>Redis 保存的数据丢失一些也没什么影响的话，可以选择使用 RDB。</p><p>不建议单独使用 AOF，因为时不时地创建一个 RDB 快照可以进行数据库备份、更快的重启以及解决 AOF 引擎错误。</p><p>如果保存的数据要求安全性比较高的话，建议同时开启 RDB 和 AOF 持久化或者开启 RDB 和 AOF 混合持久化。</p></blockquote></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="category-chain-item">数据库</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E9%9D%A2%E8%AF%95/" class="print-no-link">#面试</a> <a href="/tags/Redis/" class="print-no-link">#Redis</a></div></div><div class="license-box my-3"><div class="license-title"><div>Redis</div><div>https://www.holary.cn/posts/bae4ff13.html</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Holary</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2023年11月18日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - 非商业性使用"><i class="iconfont icon-nc"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - 相同方式共享"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/posts/c24675b4.html" title="MySQL"><span class="hidden-mobile">MySQL</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><div><span>©2023 Holary | share the goodness</span></div><div><a href="https://beian.miit.gov.cn/" target="_blank">蜀ICP备2023028086号-1</a></div><div><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script></div></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/Cherry.min.js"></script><script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/love.min.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>